const a5_0x480ff3=a5_0x1104;function a5_0x1104(_0x36c731,_0x5d78c4){const _0x5362df=a5_0x2d41();return a5_0x1104=function(_0x9a5a3,_0x2bca3b){_0x9a5a3=_0x9a5a3-0x108;let _0x2d417d=_0x5362df[_0x9a5a3];return _0x2d417d;},a5_0x1104(_0x36c731,_0x5d78c4);}(function(_0x4cbb81,_0x560237){const _0x456745=a5_0x1104,_0xfc7186=_0x4cbb81();while(!![]){try{const _0x4cd7a2=-parseInt(_0x456745(0x137))/0x1*(parseInt(_0x456745(0x110))/0x2)+parseInt(_0x456745(0x138))/0x3+-parseInt(_0x456745(0x134))/0x4+-parseInt(_0x456745(0x136))/0x5+parseInt(_0x456745(0x139))/0x6*(-parseInt(_0x456745(0x10b))/0x7)+parseInt(_0x456745(0x126))/0x8+parseInt(_0x456745(0x11b))/0x9;if(_0x4cd7a2===_0x560237)break;else _0xfc7186['push'](_0xfc7186['shift']());}catch(_0x3772fc){_0xfc7186['push'](_0xfc7186['shift']());}}}(a5_0x2d41,0xd60b1));const a5_0x2bca3b=(function(){let _0x3e3090=!![];return function(_0x65364e,_0x2a3a32){const _0x25d961=_0x3e3090?function(){const _0x4eb8b1=a5_0x1104;if(_0x2a3a32){const _0xeff799=_0x2a3a32[_0x4eb8b1(0x11a)](_0x65364e,arguments);return _0x2a3a32=null,_0xeff799;}}:function(){};return _0x3e3090=![],_0x25d961;};}()),a5_0x9a5a3=a5_0x2bca3b(this,function(){const _0x39cabc=a5_0x1104;return a5_0x9a5a3[_0x39cabc(0x115)]()[_0x39cabc(0x121)](_0x39cabc(0x129))[_0x39cabc(0x115)]()[_0x39cabc(0x125)](a5_0x9a5a3)[_0x39cabc(0x121)](_0x39cabc(0x129));});a5_0x9a5a3();'use strict';var __awaiter=this&&this['__awaiter']||function(_0x5bab3f,_0x4cc867,_0x56d028,_0x181e5d){function _0xa463d9(_0x42b1a0){return _0x42b1a0 instanceof _0x56d028?_0x42b1a0:new _0x56d028(function(_0x532c4d){_0x532c4d(_0x42b1a0);});}return new(_0x56d028||(_0x56d028=Promise))(function(_0x1f0d4f,_0x78e08f){const _0x1c6217=a5_0x1104;function _0x4e3a4a(_0x5a7d22){try{_0x59e6af(_0x181e5d['next'](_0x5a7d22));}catch(_0x3ccb57){_0x78e08f(_0x3ccb57);}}function _0x567547(_0x5bece2){const _0x16ca65=a5_0x1104;try{_0x59e6af(_0x181e5d[_0x16ca65(0x12d)](_0x5bece2));}catch(_0x2e9f16){_0x78e08f(_0x2e9f16);}}function _0x59e6af(_0x1601a6){const _0x4b1427=a5_0x1104;_0x1601a6[_0x4b1427(0x127)]?_0x1f0d4f(_0x1601a6[_0x4b1427(0x119)]):_0xa463d9(_0x1601a6[_0x4b1427(0x119)])[_0x4b1427(0x12b)](_0x4e3a4a,_0x567547);}_0x59e6af((_0x181e5d=_0x181e5d[_0x1c6217(0x11a)](_0x5bab3f,_0x4cc867||[]))[_0x1c6217(0x13a)]());});},__importDefault=this&&this[a5_0x480ff3(0x12f)]||function(_0x47d5a9){return _0x47d5a9&&_0x47d5a9['__esModule']?_0x47d5a9:{'default':_0x47d5a9};};function a5_0x2d41(){const _0x38eaab=['16527294xZnUTU','save','/delete/:id','../models/Company','get','findOneAndUpdate','search','params','Company\x20already\x20exists','deleteOne','constructor','3458896DZdFnZ','done','Companies\x20retrieved\x20successfully','(((.+)+)+)+$','Internal\x20server\x20error','then','defineProperty','throw','post','__importDefault','userID','json','/add','delete','4072776OQiMfj','body','404630haMsbS','6ocBDAN','4297761SMGJGF','118056OKQXmO','next','put','No\x20companies\x20found\x20for\x20the\x20given\x20user','Company\x20updated\x20successfully','default','findOne','/edit/:id','231oMLave','ownerID','Company\x20added\x20successfully','status','../middlewares/authorise','358722MzsbCa','express','Unauthorized\x20to\x20edit\x20this\x20company','Company\x20deleted\x20successfully','Company\x20not\x20found','toString','Company','find','length','value','apply'];a5_0x2d41=function(){return _0x38eaab;};return a5_0x2d41();}Object[a5_0x480ff3(0x12c)](exports,'__esModule',{'value':!![]});const express_1=__importDefault(require(a5_0x480ff3(0x111))),Company_1=require(a5_0x480ff3(0x11e)),authorise_1=__importDefault(require(a5_0x480ff3(0x10f))),router=express_1['default']['Router']();router[a5_0x480ff3(0x12e)](a5_0x480ff3(0x132),authorise_1[a5_0x480ff3(0x108)],(_0x236506,_0x5ca186)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x325ae8=a5_0x480ff3;try{const {ownerID:_0xd77981,name:_0x542559,commercialName:_0x99cb9f,slogan:_0x2cf54b,vat:_0x15a59e,category:_0x11955e,industry:_0x3fe8bb,imgIds:_0x980889,backgroundImg:_0x24d7f5,mobile:_0x1008b1,address:_0x58b2b1,phone:_0x18a3d8,employees:_0x442209}=_0x236506[_0x325ae8(0x135)],_0x38a938=yield Company_1['Company'][_0x325ae8(0x109)]({'name':_0x542559});if(_0x38a938){_0x5ca186['status'](0x190)[_0x325ae8(0x131)]({'message':_0x325ae8(0x123)});return;}const _0x12f67e=new Company_1['Company']({'ownerID':_0xd77981,'name':_0x542559,'commercialName':_0x99cb9f,'slogan':_0x2cf54b,'vat':_0x15a59e,'category':_0x11955e,'industry':_0x3fe8bb,'imgIds':_0x980889,'backgroundImg':_0x24d7f5,'mobile':_0x1008b1,'address':_0x58b2b1,'phone':_0x18a3d8,'employees':_0x442209});yield _0x12f67e[_0x325ae8(0x11c)](),_0x5ca186[_0x325ae8(0x10e)](0xc8)['json']({'message':_0x325ae8(0x10d),'company':_0x12f67e});}catch(_0x123b88){_0x5ca186['status'](0x1f4)[_0x325ae8(0x131)]({'message':_0x325ae8(0x12a),'error':_0x123b88});}})),router[a5_0x480ff3(0x13b)](a5_0x480ff3(0x10a),authorise_1['default'],(_0x82d889,_0x36ae3b)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x5224d3=a5_0x480ff3;try{const _0x2316f1=_0x82d889[_0x5224d3(0x122)]['id'],_0x186248=_0x82d889['body'],_0x81f495=_0x82d889['userID'],_0x3785a3=yield Company_1[_0x5224d3(0x116)][_0x5224d3(0x109)]({'_id':_0x2316f1});if(!_0x3785a3){_0x36ae3b[_0x5224d3(0x10e)](0x194)[_0x5224d3(0x131)]({'message':_0x5224d3(0x114)});return;}if(_0x3785a3['ownerID']!==_0x81f495){_0x36ae3b[_0x5224d3(0x10e)](0x193)[_0x5224d3(0x131)]({'message':_0x5224d3(0x112)});return;}const _0x1a146a=yield Company_1[_0x5224d3(0x116)][_0x5224d3(0x120)]({'_id':_0x2316f1},_0x186248,{'new':!![]});_0x36ae3b[_0x5224d3(0x10e)](0xc8)[_0x5224d3(0x131)]({'message':_0x5224d3(0x13d),'company':_0x1a146a});}catch(_0x5780f4){_0x36ae3b[_0x5224d3(0x10e)](0x1f4)[_0x5224d3(0x131)]({'message':_0x5224d3(0x12a),'error':_0x5780f4});}})),router[a5_0x480ff3(0x133)](a5_0x480ff3(0x11d),authorise_1[a5_0x480ff3(0x108)],(_0x203eca,_0x4667ca)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x6d2605=a5_0x480ff3;try{const _0x1f372e=_0x203eca[_0x6d2605(0x122)]['id'],_0x5d0840=_0x203eca[_0x6d2605(0x130)],_0x1e058c=yield Company_1[_0x6d2605(0x116)]['findOne']({'_id':_0x1f372e});if(!_0x1e058c){_0x4667ca[_0x6d2605(0x10e)](0x194)[_0x6d2605(0x131)]({'message':'Company\x20not\x20found'});return;}if(_0x1e058c[_0x6d2605(0x10c)]!==_0x5d0840){_0x4667ca[_0x6d2605(0x10e)](0x193)[_0x6d2605(0x131)]({'message':'Unauthorized\x20to\x20delete\x20this\x20company'});return;}yield Company_1[_0x6d2605(0x116)][_0x6d2605(0x124)]({'_id':_0x1f372e}),_0x4667ca[_0x6d2605(0x10e)](0xc8)['json']({'message':_0x6d2605(0x113)});}catch(_0x36bfed){_0x4667ca['status'](0x1f4)['json']({'message':_0x6d2605(0x12a),'error':_0x36bfed});}})),router[a5_0x480ff3(0x11f)]('/get',authorise_1[a5_0x480ff3(0x108)],(_0x26662f,_0x55304d)=>__awaiter(void 0x0,void 0x0,void 0x0,function*(){const _0x3904df=a5_0x480ff3;try{const {userID:_0x306fc2,email:_0x1c1ce8}=_0x26662f;if(!_0x306fc2&&!_0x1c1ce8){_0x55304d[_0x3904df(0x10e)](0x190)[_0x3904df(0x131)]({'message':'User\x20ID\x20or\x20email\x20is\x20required'});return;}const _0x55cfb6={'ownerID':_0x306fc2},_0x516bd4=yield Company_1[_0x3904df(0x116)][_0x3904df(0x117)](_0x55cfb6);if(!_0x516bd4||_0x516bd4[_0x3904df(0x118)]===0x0){_0x55304d[_0x3904df(0x10e)](0x194)[_0x3904df(0x131)]({'message':_0x3904df(0x13c)});return;}_0x55304d[_0x3904df(0x10e)](0xc8)[_0x3904df(0x131)]({'message':_0x3904df(0x128),'companies':_0x516bd4});}catch(_0x44f9cd){_0x55304d[_0x3904df(0x10e)](0x1f4)[_0x3904df(0x131)]({'message':_0x3904df(0x12a),'error':_0x44f9cd});}})),exports[a5_0x480ff3(0x108)]=router;